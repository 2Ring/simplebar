{"version":3,"sources":["../src/simplebar.js"],"names":[],"mappings":"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","file":"simplebar.js","sourcesContent":["import { scrollbarWidth } from './scrollbar-width'\n\nconst IS_WEBKIT = 'WebkitAppearance' in document.documentElement.style\n\nconst hasClass = function(el, className) {\n    if (el.classList)\n        return el.classList.contains(className)\n    else\n        return new RegExp('(^| )' + className + '( |$)', 'gi').test(el.className)\n}\n\nexport default class SimpleBar {\n    constructor(element, options) {\n        this.el = element,\n        this.track,\n        this.scrollbar,\n        this.dragOffset,\n        this.flashTimeout,\n        this.contentEl          = this.el,\n        this.scrollContentEl    = this.el,\n        this.scrollDirection    = 'vert',\n        this.scrollOffsetAttr   = 'scrollTop',\n        this.sizeAttr           = 'height',\n        this.scrollSizeAttr     = 'scrollHeight',\n        this.offsetAttr         = 'top'\n\n        const DEFAULTS = {\n            wrapContent: true,\n            autoHide: true,\n            css: {\n                container: 'simplebar',\n                content: 'simplebar-content',\n                scrollContent: 'simplebar-scroll-content',\n                scrollbar: 'simplebar-scrollbar',\n                scrollbarTrack: 'simplebar-track'\n            }\n        }\n\n        this.options = Object.assign({}, DEFAULTS, options)\n        this.theme   = this.options.css\n\n        this.init()\n    }\n\n    init() {\n        // If scrollbar is a floating scrollbar, disable the plugin\n        if(scrollbarWidth === 0) {\n            this.el.style.overflow = 'auto'\n\n            return\n        }\n\n        if (hasClass(this.el, this.theme.container + ' horizontal')) {\n            this.scrollDirection    = 'horiz'\n            this.scrollOffsetAttr   = 'scrollLeft'\n            this.sizeAttr           = 'width'\n            this.scrollSizeAttr     = 'scrollWidth'\n            this.offsetAttr         = 'left'\n        }\n\n        if (this.options.wrapContent) {\n            const wrapperScrollContent = document.createElement('div')\n            while (this.el.firstChild)\n                wrapperScrollContent.append(this.el.firstChild)\n            this.el.append(wrapperScrollContent)\n            wrapperScrollContent.classList.add(this.theme.scrollContent)\n\n            const wrapperContent = document.createElement('div')\n            wrapperContent.classList.add(this.theme.content)\n        }\n\n        this.contentEl = this.$el.find('.' + this.theme.content)\n\n        this.$el.prepend('<div class=\"' + this.theme.scrollbarTrack + '\"><div class=\"' + this.theme.scrollbar + '\"></div></div>')\n        this.$track = this.$el.find('.' + this.theme.scrollbarTrack)\n        this.$scrollbar = this.$el.find('.' + this.theme.scrollbar)\n\n        this.$scrollContentEl = this.$el.find('.' + this.theme.scrollContent)\n\n        this.resizeScrollContent()\n\n        if (this.options.autoHide) {\n            this.$el.on('mouseenter', this.flashScrollbar.bind(this))\n        }\n\n        this.$scrollbar.on('mousedown', this.startDrag.bind(this))\n        this.$scrollContentEl.on('scroll', this.startScroll.bind(this))\n\n        this.resizeScrollbar()\n\n        if (!this.options.autoHide) {\n            this.showScrollbar()\n        }\n    }\n    \n    /**\n     * Start scrollbar handle drag\n     */\n    startDrag(e) {\n        // Preventing the event's default action stops text being\n        // selectable during the drag.\n        e.preventDefault()\n\n        // Measure how far the user's mouse is from the top of the scrollbar drag handle.\n        var eventOffset = e.pageY\n        if (this.scrollDirection === 'horiz') {\n            eventOffset = e.pageX\n        }\n        this.dragOffset = eventOffset - this.$scrollbar.offset()[this.offsetAttr]\n\n        $(document).on('mousemove', this.drag.bind(this))\n        $(document).on('mouseup', this.endDrag.bind(this))\n    }\n\n\n    /**\n     * Drag scrollbar handle\n     */\n    drag(e) {\n        e.preventDefault()\n\n        // Calculate how far the user's mouse is from the top/left of the scrollbar (minus the dragOffset).\n        var eventOffset = e.pageY,\n            dragPos     = null,\n            dragPerc    = null,\n            scrollPos   = null\n\n        if (this.scrollDirection === 'horiz') {\n          eventOffset = e.pageX\n        }\n\n        dragPos = eventOffset - this.$track.offset()[this.offsetAttr] - this.dragOffset\n        // Convert the mouse position into a percentage of the scrollbar height/width.\n        dragPerc = dragPos / this.$track[this.sizeAttr]()\n        // Scroll the content by the same percentage.\n        scrollPos = dragPerc * this.$contentEl[0][this.scrollSizeAttr]\n\n        this.$scrollContentEl[this.scrollOffsetAttr](scrollPos)\n    }\n\n\n    /**\n     * End scroll handle drag\n     */\n    endDrag() {\n        $(document).off('mousemove', this.drag)\n        $(document).off('mouseup', this.endDrag)\n    }\n\n\n    /**\n     * Resize scrollbar\n     */\n    resizeScrollbar() {\n        if(scrollbarWidth === 0) {\n            return\n        }\n\n        var contentSize     = this.$contentEl[0][this.scrollSizeAttr],\n            scrollOffset    = this.$scrollContentEl[this.scrollOffsetAttr](), // Either scrollTop() or scrollLeft().\n            scrollbarSize   = this.$track[this.sizeAttr](),\n            scrollbarRatio  = scrollbarSize / contentSize,\n            // Calculate new height/position of drag handle.\n            // Offset of 2px allows for a small top/bottom or left/right margin around handle.\n            handleOffset    = Math.round(scrollbarRatio * scrollOffset) + 2,\n            handleSize      = Math.floor(scrollbarRatio * (scrollbarSize - 2)) - 2\n\n\n        if (scrollbarSize < contentSize) {\n            if (this.scrollDirection === 'vert'){\n                this.$scrollbar.css({'top': handleOffset, 'height': handleSize})\n            } else {\n                this.$scrollbar.css({'left': handleOffset, 'width': handleSize})\n            }\n            this.$track.show()\n        } else {\n            this.$track.hide()\n        }\n    }\n\n\n    /**\n     * On scroll event handling\n     */\n    startScroll(e) {\n        // Simulate event bubbling to root element\n        this.$el.trigger(e)\n\n        this.flashScrollbar()\n    }\n\n\n    /**\n     * Flash scrollbar visibility\n     */\n    flashScrollbar() {\n        this.resizeScrollbar()\n        this.showScrollbar()\n    }\n\n\n    /**\n     * Show scrollbar\n     */\n    showScrollbar() {\n        this.$scrollbar.addClass('visible')\n\n        if (!this.options.autoHide) {\n            return\n        }\n        if(typeof this.flashTimeout === 'number') {\n            window.clearTimeout(this.flashTimeout)\n        }\n\n        this.flashTimeout = window.setTimeout(this.hideScrollbar.bind(this), 1000)\n    }\n\n\n    /**\n     * Hide Scrollbar\n     */\n    hideScrollbar() {\n        this.$scrollbar.removeClass('visible')\n        if(typeof this.flashTimeout === 'number') {\n            window.clearTimeout(this.flashTimeout)\n        }\n    }\n\n\n    /**\n     * Resize content element\n     */\n    resizeScrollContent() {\n        if (IS_WEBKIT) {\n            return\n        }\n\n        if (this.scrollDirection === 'vert'){\n            this.$scrollContentEl.width(this.$el.width() + scrollbarWidth)\n            this.$scrollContentEl.height(this.$el.height())\n        } else {\n            this.$scrollContentEl.width(this.$el.width())\n            this.$scrollContentEl.height(this.$el.height() + scrollbarWidth)\n        }\n    }\n\n\n    /**\n     * Recalculate scrollbar\n     */\n    recalculate() {\n        this.resizeScrollContent()\n        this.resizeScrollbar()\n    }\n\n\n    /**\n     * Getter for original scrolling element\n     */\n    getScrollElement() {\n        return this.scrollContentEl\n    }\n\n\n    /**\n     * Getter for content element\n     */\n    getContentElement() {\n        return this.contentEl\n    }\n}\n"]}